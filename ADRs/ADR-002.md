# ADR-002 — Documentation Framework: MkDocs vs Sphinx

**Status:** Accepted
**Decision Date:** 2025-11-23
**Authors:** Abhishek

## Context

This project requires documentation that is:

- Easy for developers to write and maintain in Markdown
- Suitable for architecture docs, CLI usage, API reference, runbooks
- Navigable for multi-repo portfolio documentation in later sprints
- CI-friendly for automatic build and publish (GitHub Pages / internal portal)
- Able to host architecture diagrams (Mermaid), ADR index, examples, and guides

Two widely-used options:

1. **MkDocs** (with Material theme)
2. **Sphinx** (RST/Markdown mixed, Python-centric)

## Options Evaluated

### MkDocs
- Markdown-first
- Lightweight, very fast rebuilds
- Excellent theming (material)
- Great for developer-focused docs
- Easy GitHub Pages publishing
- Mermaid support for diagrams

### Sphinx
- Heavyweight but powerful
- Best for API auto-doc generation (Python docstrings → HTML)
- RST by default; Markdown extensions available but less natural
- More config complexity

## Decision

Use **MkDocs (Material theme)** as the documentation framework for the **test-execution-orchestrator**.

## Rationale

- Markdown-first writing keeps friction low for contributors
- Page structure, navigation, and versioning are simpler
- Faster builds → ideal for CI pipelines and PR previews
- Material theme supports diagrams, tabbed examples, admonitions, and copy-paste code blocks
- Works well across multi-repo portfolio alignment

Sphinx is more useful when auto-generating extensive API docs, but this project’s focus is architectural docs, CLI usage, runbooks, and integration workflows — domains where MkDocs excels with lower maintenance.

## Pros / Cons

### MkDocs — Pros
- Simple, fast, minimal configuration
- Markdown-native
- Easy GitHub Actions integration
- Great UI/UX with Material theme
- Easier contributor onboarding

### MkDocs — Cons / Mitigation
- Not ideal for large auto-generated API docs
  *Mitigation:* Provide a small script to generate minimal FastAPI schema docs separately if needed.

### Sphinx — Pros
- Extremely powerful for auto-docs
- Industry standard for Python libraries

### Sphinx — Cons
- Slower build times, more boilerplate, RST friction

## Implementation Plan

1. Add `docs/` with basic structure:
   - `index.md`
   - `architecture.md`
   - `usage.md`
   - `runbook.md`
   - `adr-index.md`

2. Add `mkdocs.yml` with site metadata and Material theme.

3. Integrate MkDocs build into GitHub Actions for PR previews.

4. Add `docs/ADR/` folder and ADR index page.

5. Document “Writing Docs Guide” in CONTRIBUTING.

## Acceptance Criteria
- MkDocs builds locally via `mkdocs serve`.
- CI validates docs build successfully.
- Site structure is visible and navigable.
- ADR index lists ADR-001, ADR-002, and future ADRs.

## Consequences
- Extremely fast iteration and developer-friendly docs.
- Minor trade-off in automated API documentation; acceptable for this project.

---
